# Traefik Ingress Controller Configuration
# Deployed as DaemonSet with host networking for direct access to ports 80/443

# Deployment configuration
deployment:
  kind: DaemonSet

# Host networking for direct port access
hostNetwork: true

# Disable service (not needed with host networking)
service:
  enabled: false

# Port configuration
ports:
  web:
    port: 80
    hostPort: 80
  websecure:
    port: 443
    hostPort: 443

# Rolling update strategy
updateStrategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 0

# Security context (running as root for host networking and port binding)
podSecurityContext:
  runAsUser: 0
  runAsNonRoot: false
  runAsGroup: 0

# Container security context (required for hostPort 80/443 binding)
securityContext:
  runAsUser: 0
  runAsNonRoot: false
  allowPrivilegeEscalation: true
  capabilities:
    add:
      - NET_BIND_SERVICE
    drop: []